spring:
  application:
    name: ly-ac-tenant-svc
  #########################################################################################
  ################################### DataSource Config ####################################
  #########################################################################################
  datasource:
    type: com.alibaba.druid.pool.DruidDataSource
    driver-class-name: com.mysql.cj.jdbc.Driver
    url: jdbc:mysql://{{ EDOPS_MYSQL_HOST }}:{{ EDOPS_MYSQL_PORT }}/ly_ac_tenant_db?useUnicode=true&characterEncoding=UTF-8&useSSL=false&serverTimezone=Asia/Shanghai
    username: {{ EDOPS_MYSQL_ROOT_USER }}
    password: {{ EDOPS_MYSQL_ROOT_PASSWORD }}
    
#配置日志地址
logging:
  config: classpath:logback-tsf.xml
#邮件配置  
ses:
  enabled: {{ EDOPS_SES_ENABLED }}
  name: {{ EDOPS_SES_NAME }}
  endPoint: {{ EDOPS_SES_END_POINT }}
  secretId: {{ EDOPS_SES_SECRET_ID }}
  secretKey: {{ EDOPS_SES_SECRET_KEY }}
  # 发信邮件地址
  fromEmailAddress: {{ EDOPS_SES_FROM_EMAIL_ADDRESS }}
  template-info-map:
    captcha:
      is-enable: {{ EDOPS_SES_CAPTCHA_IS_ENABLE }}
      template-id: {{ EDOPS_SES_CAPTCHA_TEMPLATE_ID }}
      template-data: {{ EDOPS_SES_CAPTCHA_TEMPLATE_DATA }}
      subject: {{ EDOPS_SES_CAPTCHA_SUBJECT }}
      
ly:
  tenant:
    tenant-mode: false
    security:
      # 令牌自定义标识
      header: Authorization
      # 令牌密钥
      secret: {{ EDOPS_TENANT_SECRET_KEY }}
      # 令牌有效期（默认30分钟）
      expireTime: 1440
      # 租户服务跳过认证的URL列表
      skipUrls:
        - /v1/hardware-product/list/entity
        - /v1/hardware-product/categories/list/entity
  #多团队协作服务配置
  loadbalancer:
    #开启配置
    enabled: true
    #灰度版本
    #version: 3.0.0
    #负载均衡优先调用的ip段
    prior-ip-pattern:
      #      - 192.168.8.*
      #      - 127.0.0.1
      - 100.64.*.*
##############################################################################################
############################################# 公有云rsa配置 ###################################
##############################################################################################
tenant:
  prefix-initialize-link: {{ EDOPS_TENANT_PREFIX_INITIALIZE_LINK }}
  secure-key: UIuqNdAyioWvFdfr
  system:
    public-key: {{ EDOPS_TENANT_PUBLIC_KEY }}
    private-key: {{ EDOPS_TENANT_PRIVATE_KEY }}

